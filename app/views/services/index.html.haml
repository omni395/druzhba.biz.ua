:javascript
  fbq('track', 'ViewContent');

%section{class: "mt-8 font-messiri max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col justify-between"}
  %div{class: "text-center"}
    %h1{class: "text-3xl text-red-500 sm:text-4xl leading-normal font-extrabold tracking-tight"}
      = t ("service.h1")

  %div{class: "mt-10"}
    %dl{class: "space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-4 md:gap-y-5"}
      %div{class: "relative"}
        %dt
          %div{class: "absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white"}
            = image_tag "mashine.svg", width: "35px", alt: "#{t "service.dl1.dt.alt"}", loading: 'lazy'
          %p{class: "font-heading ml-16 text-lg leading-6 font-bold text-gray-700"}
            = t ("service.dl1.dt.p")
        %dd{class: "mt-2 ml-16 text-base text-gray-500 text-justify"}
          = t ("service.dl1.dd")
      %div{class: "relative"}
        %dt
          %div{class: "absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white"}
            = image_tag "button.svg", width: "35px", alt: "#{t "service.dl2.dt.alt"}", loading: 'lazy'
          %p{class: "font-heading ml-16 text-lg leading-6 font-bold text-gray-700"}
            = t ("service.dl2.dt.p")
        %dd{class: "mt-2 ml-16 text-base text-gray-500 text-justify"}
          = t ("service.dl2.dd")
      %div{class: "relative"}
        %dt
          %div{class: "absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white"}
            = image_tag "spool.svg", width: "35px", alt: "#{t "service.dl3.dt.alt"}", loading: 'lazy'
          %p{class: "font-heading ml-16 text-lg leading-6 font-bold text-gray-700"}
            = t ("service.dl3.dt.p")
        %dd{class: "mt-2 ml-16 text-base text-gray-500 text-justify"}
          = t ("service.dl3.dd")
      %div{class: "relative"}
        %dt
          %div{class: "absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white"}
            = image_tag "model.svg", width: "35px", alt: "#{t "service.dl4.dt.alt"}", loading: 'lazy'
          %p{class: "font-heading ml-16 text-lg leading-6 font-bold text-gray-700"}
            = t ("service.dl4.dt.p")
        %dd{class: "mt-2 ml-16 text-base text-gray-500 text-justify"}
          = t ("service.dl4.dd")


  -# Карточки услуг с блоком рекламы
  %div{class: "mx-auto p-5 sm:p-10 md:p-16"}
    %h2{class: "text-center my-4 text-xl text-stone-500 sm:text-2xl leading-normal font-extrabold tracking-tight"}
      = t ("service.h2_2")

    - if @services.sewing.present?
      %div{class: "grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-10"}
        - @services.sewing.each_with_index do |service, index|
          - if index < 5
            %a{class: "rounded-xl shadow-lg hover:shadow-lg hover:shadow-red-300 flex flex-col", href: service_path(service)}
              %div{class: "flex-grow"}
                - if service.image.attached?
                  = image_tag(service.image.variant(convert: "avif", resize_to_limit: [250, 125]), class: "rounded-t-xl w-full h-[150px] sm:w-full sm:h-[200px] transition-all duration-300 cursor-pointer filter grayscale-[50%] hover:grayscale-0", alt: service.title, loading: 'lazy')
                - else
                  = image_tag("favicon.png", class: "rounded-t-xl w-full h-[150px] sm:h-[200px] transition-all duration-300 cursor-pointer filter grayscale-[50%] hover:grayscale-0", alt: service.title, loading: 'lazy')
              %div{class: "px-4 py-2 flex-grow"}
                %div{class: "mb-8"}
                  %h3{class: "text-stone-900 font-bold text-lg mb-2 hover:text-red-500 inline-block"}
                    = service.title
                  %p{class: "text-gray-700 text-sm text-ellipsis text-justify"}
                    = service.description

          - if @services.sewing.size > 5
            -# AdSense block
            %script{:async => "", :crossorigin => "anonymous", :src => "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3829218691602401"}
            %ins.adsbygoogle{"data-ad-client" => "ca-pub-3829218691602401", "data-ad-format" => "fluid", "data-ad-layout-key" => "-6i+cd-2-3r+ld", "data-ad-slot" => "3777827084", :style => "display:block"}
            :javascript
              (adsbygoogle = window.adsbygoogle || []).push({});

          %div{class: "grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-10"}
            - @services.sewing[5..-1].each do |service|
              %a{class: "rounded-xl shadow-lg hover:shadow-lg hover:shadow-red-300 flex flex-col", href: service_path(service)}
                %div{class: "flex-grow"}
                  - if service.image.attached?
                    = image_tag(service.image.variant(convert: "avif", resize_to_limit: [250, 125]), class: "rounded-t-xl w-full h-[150px] sm:w-full sm:h-[200px] transition-all duration-300 cursor-pointer filter grayscale-[50%] hover:grayscale-0", alt: service.title, loading: 'lazy')
                  - else
                    = image_tag("favicon.png", class: "rounded-t-xl w-full h-[150px] sm:h-[200px] transition-all duration-300 cursor-pointer filter grayscale-[50%] hover:grayscale-0", alt: service.title, loading: 'lazy')
                %div{class: "px-4 py-2 flex-grow"}
                  %div{class: "mb-8"}
                    %h3{class: "text-stone-900 font-bold text-lg mb-2 hover:text-red-500 inline-block"}
                      = service.title
                    %p{class: "text-gray-700 text-sm text-ellipsis text-justify"}
                      = service.description
    - else
      %p{class: "text-center text-gray-500"} 
        = t("service.no_services") # Сообщение, если нет услуг